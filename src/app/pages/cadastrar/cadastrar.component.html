<div class="container mt-5 mb-5">
  <h1 class="mb-4 fw-bold text-primary text-center">
    <i class="bi bi-calendar-plus me-2"></i> Cadastro de Agenda
  </h1>

  <form #formAgenda="ngForm" (ngSubmit)="salvar(formAgenda)" novalidate class="needs-validation">

    <fieldset class="border rounded-4 p-4 mb-5 shadow-sm bg-light">
      <legend class="float-none w-auto px-3 fw-semibold text-muted fs-5">Informações da Agenda</legend>

      <!-- Título -->
      <div class="mb-4">
        <label for="titulo" class="form-label fw-semibold">Título</label>
        <input id="titulo" [(ngModel)]="titulo" name="titulo" required
               class="form-control form-control-lg"
               placeholder="Título da agenda">
      </div>

      <!-- Data e Hora de Início -->
      <div class="row g-4">
        <div class="col-md-6">
          <label for="dataInicio" class="form-label fw-semibold">Data de Início</label>
          <input id="dataInicio" [(ngModel)]="dataInicio" name="dataInicio" type="date" required
                 class="form-control form-control-lg">
        </div>
        <div class="col-md-6">
          <label for="horaInicio" class="form-label fw-semibold">Hora de Início</label>
          <input id="horaInicio" [(ngModel)]="horaInicio" name="horaInicio" type="time"
                 [required]="!diaInteiroSelecionado"
                 class="form-control form-control-lg">
        </div>
      </div>

      <!-- Checkbox Dia inteiro -->
      <div class="form-check form-switch mt-4 mb-4">
        <input class="form-check-input" type="checkbox"
               [(ngModel)]="diaInteiroSelecionado"
               id="diaInteiroCheck" name="diaInteiro">
        <label class="form-check-label fw-semibold" for="diaInteiroCheck">
          Evento de dia inteiro
        </label>
      </div>

      <!-- Data e Hora de Fim -->
      <div class="row g-4">
        <div class="col-md-6">
          <label for="dataFim" class="form-label fw-semibold">Data de Fim</label>
          <input id="dataFim" [(ngModel)]="dataFim" name="dataFim" type="date" required
                 class="form-control form-control-lg">
        </div>
        <div class="col-md-6" *ngIf="!diaInteiroSelecionado">
          <label for="horaFim" class="form-label fw-semibold">Hora de Fim</label>
          <input id="horaFim" type="time" name="horaFim"
                 [(ngModel)]="horaFim"
                 [required]="!diaInteiroSelecionado"
                 class="form-control form-control-lg">
        </div>
      </div>

      <!-- Descrição -->
      <div class="mt-4 mb-4">
        <label for="descricao" class="form-label fw-semibold">Descrição</label>
        <textarea id="descricao" [(ngModel)]="descricao" name="descricao" required
                  class="form-control form-control-lg" rows="4"
                  placeholder="Descreva o evento com detalhes..."></textarea>
      </div>

      <!-- Situação -->
      <div class="mb-4">
        <label for="enumSituacao" class="form-label fw-semibold">Situação</label>
        <select id="enumSituacao" [(ngModel)]="enumSituacao" name="enumSituacao" required
                class="form-select form-select-lg">
          <option [ngValue]="null">Selecione uma situação</option>
          <option *ngFor="let s of situacoes" [ngValue]="s.value">{{ s.label }}</option>
        </select>
      </div>
    </fieldset>

    <!-- Botão de envio -->
    <div class="text-center">
      <button type="submit" class="btn btn-primary btn-lg px-5">
        <i class="bi bi-check-circle me-2"></i> Cadastrar Agenda
      </button>
    </div>
  </form>

  <!-- Feedback visual -->
  <div *ngIf="sucesso" class="alert alert-success mt-5 fade show text-center fs-5" role="alert">
    ✅ Cadastro realizado com sucesso!
  </div>
  <div *ngIf="erro" class="alert alert-danger mt-5 fade show text-center fs-5" role="alert">
    ⚠️ Erro ao cadastrar. Tente novamente.
  </div>
</div>

<app-footer></app-footer>
<div class="container mt-4 mb-5">
  <h1 class="mb-4 fw-bold">Cadastro de Agenda</h1>

  <form #formAgenda="ngForm" (ngSubmit)="salvar(formAgenda)" novalidate>

    <fieldset class="border p-3 mb-4">
      <legend class="float-none w-auto px-2 fw-semibold">Informações da Agenda</legend>

      <!-- Título -->
      <label for="titulo" class="form-label">Título</label>
      <input id="titulo" [(ngModel)]="titulo" name="titulo" required class="form-control mb-3" placeholder="Título da agenda">

      <!-- Data e Hora de Início -->
      <div class="row">
        <div class="col-md-6">
          <label for="dataInicio" class="form-label">Data de Início</label>
          <input id="dataInicio" [(ngModel)]="dataInicio" name="dataInicio" type="date" required class="form-control mb-3">
        </div>
        <div class="col-md-6">
          <label for="horaInicio" class="form-label">Hora de Início</label>
          <input id="horaInicio" [(ngModel)]="horaInicio" name="horaInicio" type="time"
                 [required]="!diaInteiroSelecionado"
                 class="form-control mb-3">
        </div>
      </div>

      <!-- Checkbox Dia inteiro -->
      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox"
               [(ngModel)]="diaInteiroSelecionado"
               id="diaInteiroCheck" name="diaInteiro">
        <label class="form-check-label" for="diaInteiroCheck">
          Dia inteiro
        </label>
      </div>

      <!-- Data e Hora de Fim -->
      <div class="row">
        <div class="col-md-6">
          <label for="dataFim" class="form-label">Data de Fim</label>
          <input id="dataFim" [(ngModel)]="dataFim" name="dataFim" type="date" required class="form-control mb-3">
        </div>
        <div class="col-md-6" *ngIf="!diaInteiroSelecionado">
          <label for="horaFim" class="form-label">Hora de Fim</label>
          <input id="horaFim" type="time" name="horaFim"
                 [(ngModel)]="horaFim"
                 [required]="!diaInteiroSelecionado"
                 class="form-control mb-3">
        </div>
      </div>

      <!-- Descrição -->
      <label for="descricao" class="form-label">Descrição</label>
      <textarea id="descricao" [(ngModel)]="descricao" name="descricao" required
                class="form-control mb-3" rows="3" placeholder="Descreva o evento..."></textarea>

      <!-- Situação -->
      <label for="enumSituacao" class="form-label">Situação</label>
      <select id="enumSituacao" [(ngModel)]="enumSituacao" name="enumSituacao" required class="form-select mb-4">
        <option [ngValue]="null">Selecione uma situação</option>
        <option *ngFor="let s of situacoes" [ngValue]="s.value">{{ s.label }}</option>
      </select>
    </fieldset>

    <!-- Botão de envio -->
    <button type="submit" class="btn btn-primary">
      <i class="bi bi-check-circle me-1"></i> Cadastrar
    </button>
  </form>

  <!-- Feedback visual -->
  <div *ngIf="sucesso" class="alert alert-success mt-4 fade show" role="alert">
    ✅ Cadastro realizado com sucesso!
  </div>
  <div *ngIf="erro" class="alert alert-danger mt-4 fade show" role="alert">
    ⚠️ Erro ao cadastrar. Tente novamente.
  </div>
</div>

<app-footer></app-footer>